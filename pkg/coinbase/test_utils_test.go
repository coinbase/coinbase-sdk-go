package coinbase

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestDummyEthereumUnsignedPayload(t *testing.T) {
	tests := []struct {
		name  string
		nonce uint64
		want  string
	}{
		{
			name:  "nonce 0",
			nonce: 0,
			want:  "7b2274797065223a22307830222c226e6f6e6365223a22307830222c22746f223a22307830303030303030303030303030303030303030303030303030303030303030303030303030303030222c22676173223a22307835323038222c226761735072696365223a22307831222c226d61785072696f72697479466565506572476173223a6e756c6c2c226d6178466565506572476173223a6e756c6c2c2276616c7565223a22307830222c22696e707574223a223078222c2276223a22307830222c2272223a22307830222c2273223a22307830222c2268617368223a22307837623864613336316233363132613265336534313666666266373032393634323534643763393232663565323762623165366561396165623233303336333665227d",
		},
		{
			name:  "nonce 1",
			nonce: 1,
			want:  "7b2274797065223a22307830222c226e6f6e6365223a22307831222c22746f223a22307830303030303030303030303030303030303030303030303030303030303030303030303030303030222c22676173223a22307835323038222c226761735072696365223a22307831222c226d61785072696f72697479466565506572476173223a6e756c6c2c226d6178466565506572476173223a6e756c6c2c2276616c7565223a22307830222c22696e707574223a223078222c2276223a22307830222c2272223a22307830222c2273223a22307830222c2268617368223a22307864303962383361316338393636353738306665386164613931643962616435313864313035313133323364623331333631393033306661656533363964346266227d",
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := dummyEthereumUnsignedPayload(t, tt.nonce)
			assert.Equal(t, tt.want, got)
		})
	}
}
